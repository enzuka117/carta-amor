<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Carta de Amor</title>

<style>
*{
margin:0;
padding:0;
box-sizing:border-box;
font-family: 'Georgia', serif;
}

body{
background:linear-gradient(135deg,#ff4e8a,#b30059);
display:flex;
justify-content:center;
align-items:center;
height:100vh;
overflow:hidden;
}

/* SOBRE */
.envelope{
position:relative;
width:900px;
max-width:95%;
height:520px;
background:#f3efe8;
border-radius:30px;
overflow:hidden;
margin:auto;
box-shadow:
0 25px 60px rgba(0,0,0,0.35),
0 10px 20px rgba(0,0,0,0.2);
}

/* TAPA DEL SOBRE */
.envelope::before{
content:"";
position:absolute;
top:0;
left:0;
width:100%;
height:50%;
background:#e8e2d9;
clip-path:polygon(0 0, 50% 100%, 100% 0);
z-index:5;
transition:transform 0.8s ease;
transform-origin:top;
}

/* Cuando se abre */
.open::before{
transform:rotateX(180deg);
}

/* PAPEL INTERIOR */
.paper{
position:absolute;
width:100%;
height:100%;
padding:60px;
display:flex;
justify-content:center;
align-items:center;
opacity:0;
transform:scale(0.95);
transition:transform 0.8s ease, opacity 0.8s ease;
z-index:1;

background:
linear-gradient(#f8f5f0,#f8f5f0),
repeating-linear-gradient(
45deg,
rgba(0,0,0,0.015),
rgba(0,0,0,0.015) 2px,
transparent 2px,
transparent 6px
);

box-shadow:inset 0 0 40px rgba(0,0,0,0.08);
}

/* CONTENIDO */
.content{
display:flex;
justify-content:space-between;
align-items:center;
width:100%;
height:100%;
}

.text{
width:55%;
font-size:26px;
line-height:1.6;
color:#5a3e36;
}

.counter{
margin-top:25px;
font-size:22px;
color:#b30059;
font-weight:bold;
}

.photo{
width:35%;
height:350px;
border-radius:25px;
overflow:hidden;
box-shadow:0 15px 35px rgba(0,0,0,0.25);
}

.photo img{
width:100%;
height:100%;
object-fit:cover;
}

/* CORAZ√ìN CENTRAL */
#sealHeart{
position:absolute;
top:50%;
left:50%;
transform:translate(-50%,-50%);
font-size:110px;
cursor:pointer;
animation:beat 1.2s infinite;
z-index:10;
}

@keyframes beat{
0%{transform:translate(-50%,-50%) scale(1);}
50%{transform:translate(-50%,-50%) scale(1.1);}
100%{transform:translate(-50%,-50%) scale(1);}
}

/* ABIERTO */
.open .paper{
opacity:1;
transform:scale(1);
}

.open #sealHeart{
opacity:0;
pointer-events:none;
}

/* CORAZONES QUE CAEN */
.falling-heart{
position:absolute;
top:-30px;
font-size:18px;
animation:fall linear forwards;
will-change: transform;
z-index:0;
}

@keyframes fall{
to{
transform:translateY(600px);
opacity:0;
}
}

/* RESPONSIVE */
@media (max-width:768px){

.envelope{
width:95%;
height:auto;
min-height:520px;
}

.paper{
padding:30px;
}

.content{
flex-direction:column;
}

.text{
width:100%;
text-align:center;
font-size:22px;
}

.photo{
width:80%;
height:280px;
margin-top:25px;
}

#sealHeart{
font-size:95px;
}

}

</style>
</head>

<body>

<div class="envelope" id="envelope">

<div id="sealHeart">‚ù§Ô∏è</div>

<div class="paper">
<div class="content">

<div class="text">
<p>Para el amor de mi vida:</p>
<br>
<p>
Si pudiera elegir un lugar seguro, ser√≠a a tu lado.<br>
Cuanto m√°s tiempo estoy contigo m√°s te amo.
</p>
<br>
<p style="text-align:center;">‚Äî I Love You! ‚Äî</p>

<div class="counter" id="counter"></div>
</div>

<div class="photo">
<img src="foto.jpg" alt="Nuestra foto">
</div>

</div>
</div>

</div>

<script>

const envelope = document.getElementById("envelope");
const heart = document.getElementById("sealHeart");

heart.addEventListener("click",()=>{
envelope.classList.add("open");
});

/* CONTADOR */
const START_DATE = new Date("2023-01-18");

function updateCounter(){
const now = new Date();
const diff = now - START_DATE;

const days = Math.floor(diff / (1000*60*60*24));
const hours = Math.floor((diff / (1000*60*60)) % 24);
const minutes = Math.floor((diff / (1000*60)) % 60);
const seconds = Math.floor((diff / 1000) % 60);

document.getElementById("counter").innerHTML =
`Mi amor por ti comenz√≥ hace...<br>
${days} d√≠as ${hours} horas ${minutes} min ${seconds} seg`;
}

setInterval(updateCounter,1000);
updateCounter();

/* CORAZONES QUE CAEN COMO HOJAS */
function createFallingHeart(){
const heart = document.createElement("div");
heart.classList.add("falling-heart");
heart.innerHTML = ["‚ù§Ô∏è","üíú","üíñ","üíô"][Math.floor(Math.random()*4)];
heart.style.left = Math.random()*100 + "vw";
heart.style.animationDuration = (4 + Math.random()*3) + "s";
document.body.appendChild(heart);

setTimeout(()=>{
heart.remove();
},7000);
}

setInterval(()=>{
createFallingHeart();
},600);

</script>

</body>
</html>
